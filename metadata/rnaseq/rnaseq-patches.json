[
  {
    "when": {
      "__must__" : [
        { "assay_type": "bulk RNA" }
      ]
    },
    "then": {
      "assay_input_entity": "tissue (bulk)",
      "barcode_read": "Not applicable",
      "barcode_size": "Not applicable",
      "barcode_offset": "Not applicable",
      "umi_read": "Not applicable",
      "umi_size": "Not applicable",
      "umi_offset": "Not applicable"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "sciRNAseq" }
      ]
    },
    "then": {
      "assay_input_entity": "single cell",
      "barcode_read": "Not applicable",
      "barcode_size": "40",
      "barcode_offset": "Not applicable",
      "umi_read": "Not applicable",
      "umi_size": "8",
      "umi_offset": "Not applicable"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics" }
      ]
    },
    "then": {
      "assay_input_entity": "single cell",
      "preparation_instrument_vendor": "10x Genomics"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics-v2" }
      ]
    },
    "then": {
      "assay_input_entity": "single cell",
      "barcode_read": "Read 1 (R1)",
      "barcode_size": "16",
      "barcode_offset": "0",
      "umi_read": "Read 1 (R1)",
      "umi_size": "10",
      "umi_offset": "16",
      "preparation_instrument_vendor": "10x Genomics",
      "preparation_instrument_model": "Chromium Controller",
      "preparation_instrument_kit": "10x Genomics; Chromium Single Cell A Chip Kit"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics-v3" }
      ]
    },
    "then": {
      "assay_input_entity": "single cell",
      "barcode_read": "Read 1 (R1)",
      "barcode_size": "16",
      "barcode_offset": "0",
      "umi_read": "Read 1 (R1)",
      "umi_size": "12",
      "umi_offset": "16"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "SNARE2-RNAseq" }
      ]
    },
    "then": {
      "assay_input_entity": "single nucleus",
      "barcode_read": "Read 2 (R2)",
      "barcode_size": "8,8,8",
      "barcode_offset": "10,48,86",
      "umi_read": "Read 2 (R2)",
      "umi_size": "10",
      "umi_offset": "0"      
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "snRNAseq" }
      ]
    },
    "then": {
      "assay_input_entity": "single nucleus"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "snRNAseq-10xGenomics-v3" }
      ]
    },
    "then": {
      "assay_input_entity": "single nucleus",
      "barcode_read": "Read 1 (R1)",
      "barcode_size": "16",
      "barcode_offset": "0",
      "umi_read": "Read 1 (R1)",
      "umi_size": "12",
      "umi_offset": "16"     
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "bulk RNA" },
        { "library_construction_protocols_io_doi": "10.17504/protocols.io.bftnjnme" },
        { "__should__": [
          { "sequencing_read_format": "150/8/8/150" },
          { "sequencing_read_format": "150-8-8-150" },
          { "sequencing_read_format": "150,8,8,150" }
        ]}
      ]
    },
    "then": {
      "sequencing_reagent_kit": "Illumina; NovaSeq 6000 SP Reagent Kit v1.5 (300 cycles); PN 20028400"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "snRNAseq" },
        { "__should__": [
          { "rnaseq_assay_method": "10x Chromium Single Cell 3_ Reagent Kits v4" },
          { "rnaseq_assay_method": "10x Chromium Single Cell 3_ Reagent Kits v5" },
          { "rnaseq_assay_method": "10x Chromium Single Cell 3_ Reagent Kits v6" },
          { "rnaseq_assay_method": "10x Chromium Single Cell 3_ Reagent Kits v7" },
          { "rnaseq_assay_method": "10x Chromium Single Cell 3_ Reagent Kits v8" },
          { "rnaseq_assay_method": "10x Chromium Single Cell 3_ Reagent Kits v9" },
          { "rnaseq_assay_method": "10x Chromium Single Cell 3_ Reagent Kits v10" }
        ]}
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Single Cell 3' Reagent Kits v3"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics-v2" },
        { "protocols_io_doi": "10.17504/protocols.io.btdpni5n" }
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Single Cell 3' Reagent Kits v2",
      "rnaseq_assay_method": "10x Genomics; Chromium Single Cell 3' Reagent Kits v2"
    }
  },
  {
    "when": {
      "__must__" : [
        { "acquisition_instrument_model": "Nextseq2000" }
      ]
    },
    "then": {
      "acquisition_instrument_model": "NextSeq 2000"
    }
  },
  {
    "when": {
      "__must__" : [
        { "acquisition_instrument_model": "Nextseq2000" },
        { "sequencing_reagent_kit": "P2"}
      ]
    },
    "then": {
      "sequencing_reagent_kit": "Illumina; NextSeq 1000/2000 P2 Reagents (100 Cycles) v3, PN 20046811"
    }
  },
  {
    "when": {
      "__must__" : [
        { "acquisition_instrument_vendor": "Illumina" },
        { "acquisition_instrument_model": "NovaSeq6000" }
      ]
    },
    "then": {
      "acquisition_instrument_model": "NovaSeq 6000"
    }
  },
{
    "when": {
      "__must__" : [
        { "sequencing_reagent_kit": "NovaSeq S4 200 cycle" },
        { "sequencing_read_format": "28/10/10/90" }
      ]
    },
    "then": {
      "sequencing_reagent_kit": "NovaSeq 6000 S4 Reagent Kit (200 Cycles)"
    }
  },
{
    "when": {
      "__must__" : [
        { "rnaseq_assay_method": "Single Cell Multiome ATAC + Gene Expression - Chromium Next GEM Single Cell 3' v3.1 (dual index)" },
        { "__should__": [
          { "assay_type": "snRNAseq-10xGenomics-v3" },
          { "assay_type": "snRNAseq" }
        ]}
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Next GEM Single Cell Multiome ATAC + Gene Expression Reagent Bundle",
      "sample_indexing_kit": "10x Genomics; Dual Index Kit TT Set A, 96 rxns; PN-1000215",
      "preparation_instrument_vendor": "10x Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Next GEM Chip J Single Cell Kit"
    }
  },
{
    "when": {
      "__must__" : [
        { "rnaseq_assay_method": "Chromium multiome Reagent Kits" },
        { "__should__": [
          { "assay_type": "snRNAseq-10xGenomics-v3" },
          { "assay_type": "snRNAseq" }
        ]}
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Next GEM Single Cell Multiome ATAC + Gene Expression Reagent Bundle",
      "sample_indexing_kit": "10x Genomics; Dual Index Kit TT Set A, 96 rxns; PN-1000215",
      "preparation_instrument_vendor": "10x Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Next GEM Chip J Single Cell Kit"
    }
  },
{
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics-v3" },
        { "rnaseq_assay_method": "Chromium Single Cell 3' GEM, Library & Gel Bead Kit v3, 4 rxns PN-1000092" }
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Single Cell 3' GEM, Library & Gel Bead Kit v3, 4 rxns; PN-1000092",
      "sample_indexing_kit": "10x Genomics; Chromium i7 Multiplex Kit, 96 rxns; PN-120262",
      "preparation_instrument_vendor": "10X Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Single Cell B Chip Kit"
    }
  },
{
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics-v3" },
        { "rnaseq_assay_method": "Chromium Next GEM Single Cell 3' Kit v3.1, 4 rxns; PN-1000269" }
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Next GEM Single Cell 3' Kit v3.1, 4 rxns; PN-1000269",
      "sample_indexing_kit": "10x Genomics; Dual Index Kit TT Set A, 96 rxns; PN-1000215",
      "preparation_instrument_vendor": "10X Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Next GEM Chip G Single Cell Kit"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics-v3" },
        { "__should__": [
          { "execution_datetime": "2019-06-27 16:00" },
          { "execution_datetime": "2020-01-29 15:00" },
          { "execution_datetime": "2019-11-21 16:00" },
          { "execution_datetime": "2019-11-21 15:00" },
          { "execution_datetime": "2019-06-27 15:00" },
          { "execution_datetime": "2019-11-16 15:00" },
          { "execution_datetime": "2019-06-27 15:00" },
          { "execution_datetime": "2019-11-16 16:00" },
          { "execution_datetime": "2019-06-27 15:00" }
        ]}
      ]
    },
    "then": {
      "preparation_instrument_vendor": "10X Genomics",
      "preparation_instrument_model": "Chromium Controller",
      "preparation_instrument_kit": "10x Genomics; Chromium Single Cell B Chip Kit"
    }
  },
{
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics-v3" },
        { "library_preparation_kit": "Chromium Single Cell 3' GEM, Library & Gel Bead Kit v3, 4 rxns PN-1000092" }
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Single Cell 3' GEM, Library & Gel Bead Kit v3, 4 rxns PN-1000092",
      "sample_indexing_kit": "10x Genomics; Chromium i7 Multiplex Kit, 96 rxns PN-120262",
      "preparation_instrument_vendor": "10x Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Single Cell B Chip Kit"
    }
  },
{
    "when": {
      "__must__" : [
        { "assay_type": "scRNAseq-10xGenomics-v3" },
        { "rnaseq_assay_method": "Chromium Next GEM Single Cell 3' Kit v3.1, 4 rxns PN-1000269" }
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Next GEM Single Cell 3' Kit v3.1, 4 rxns PN-1000269",
      "sample_indexing_kit": "10x Genomics; Dual Index Kit TT Set A, 96 rxns PN-1000215",
      "preparation_instrument_vendor": "10x Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Next GEM Chip G Single Cell Kit"
    }
  },
{
    "when": {
      "__must__" : [
        { "sequencing_reagent_kit": "NSQ 500/550 Hi Output KT v2.5 (150 CYS)" }
      ]
    },
    "then": {
      "sequencing_reagent_kit": "Illumina; NextSeq 500/550 High Output Kit v2.5 (150 Cycles); PN 20024907"
    }
  },
{
    "when": {
      "__must__" : [
        { "sequencing_reagent_kit": "NextSeq 1000/2000 P3 Reagents (100 Cycles) v3" }
      ]
    },
    "then": {
      "sequencing_reagent_kit": "Illumina; NextSeq 2000 P3 Reagents (100 Cycles); PN 20040559"
    }
  },
{
    "when": {
      "__must__" : [
        { "sequencing_reagent_kit": "NextSeq 1000/2000 P2 Reagents (100 Cycles) v3" }
      ]
    },
    "then": {
      "sequencing_reagent_kit": "Illumina; NextSeq 1000/2000 P2 Reagents (100 Cycles) v3; PN 20046811"
    }
  },
{
    "when": {
      "__must__" : [
        { "rnaseq_assay_method": "Single Cell 3' v3" }
      ]
    },
    "then": {
      "sequencing_reagent_kit": "10x Genomics; Chromium Single Cell 3' GEM, Library & Gel Bead Kit v3",
      "preparation_instrument_vendor": "10x Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Single Cell B Chip Kit"
    }
  },
{
    "when": {
      "__must__" : [
        { "library_construction_protocols_io_doi": "10.17504/protocols.io.86khzcw" }
      ]
    },
    "then": {
      "rnaseq_assay_method": "10x Genomics; Chromium Single Cell 3สน GEM, Library & Gel Bead Kit v3, 16 rxns PN-1000075",
      "library_preparation_kit": "10x Genomics; Chromium Single Cell 3สน GEM, Library & Gel Bead Kit v3, 16 rxns PN-1000075",
      "preparation_instrument_vendor": "10x Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Single Cell B Chip Kit, 16 rxns PN-1000074",
      "sample_indexing_kit": "10x Genomics; Chromium i7 Multiplex Kit, 96 rxns; PN-120262"
    }
  },
{
    "when": {
      "__must__" : [
        { "library_construction_protocols_io_doi": "10.17504/protocols.io.bffvjjn6" },
        { "assay_type": "snRNAseq-10xGenomics-v3"}
      ]
    },
    "then": {
      "library_preparation_kit": "10x Genomics; Chromium Single Cell 3' GEM, Library & Gel Bead Kit v3",
      "preparation_instrument_vendor": "10X Genomics",
      "preparation_instrument_kit": "10x Genomics; Chromium Single Cell B Chip Kit",
      "sample_indexing_kit": "10x Genomics; Chromium i7 Multiplex Kit, 96 rxns; PN-120262"
    }
  },
{
    "when": {
      "__must__" : [
        { "__should__": [
          { "execution_datetime": "2019-06-27 15:00" },
          { "execution_datetime": "2019-06-27 16:00" },
          { "execution_datetime": "2019-09-25 09:08" },
          { "execution_datetime": "2019-11-07 12:00" },
          { "execution_datetime": "2019-11-16 15:00" },
          { "execution_datetime": "2019-11-16 16:00" },
          { "execution_datetime": "2019-11-21 15:00" },
          { "execution_datetime": "2019-11-21 16:00" },
          { "execution_datetime": "2020-01-29 15:00" },
          { "execution_datetime": "2020-02-19 11:00" },
          { "execution_datetime": "2020-03-04 11:00" },
          { "execution_datetime": "2020-06-16 06:09" },
          { "execution_datetime": "2020-06-18 06:09" },
          { "execution_datetime": "2020-07-02 07:09" },
          { "execution_datetime": "2020-07-06 07:09" },
          { "execution_datetime": "2020-07-16 07:09" },
          { "execution_datetime": "2020-07-20 07:09" },
          { "execution_datetime": "2020-08-07 08:09" },
          { "execution_datetime": "2020-08-20 18:08" },
          { "execution_datetime": "2020-09-04 09:09" },
          { "execution_datetime": "2020-09-17 09:09" },
          { "execution_datetime": "2020-10-09 11:00" },
          { "execution_datetime": "2020-12-16 11:00" },
          { "execution_datetime": "2021-01-27 01:09" },
          { "execution_datetime": "2021-03-12 09:30" },
          { "execution_datetime": "2021-03-15 03:09" },
          { "execution_datetime": "2021-03-18 03:09" },
          { "execution_datetime": "2021-03-18 09:30" },
          { "execution_datetime": "2021-03-20 09:30" },
          { "execution_datetime": "2021-04-08 11:00" },
          { "execution_datetime": "2021-05-06 14:00" },
          { "execution_datetime": "2021-05-14 11:00" },
          { "execution_datetime": "2021-06-17 11:00" },
          { "execution_datetime": "2021-06-30 11:00" },
          { "execution_datetime": "2021-07-15 11:00" },
          { "execution_datetime": "2019-05-29 11:00" },
          { "execution_datetime": "2019-06-07 11:00" },
          { "execution_datetime": "2019-07-03 0:00" },
          { "execution_datetime": "2019-10-09 11:00" },
          { "execution_datetime": "2019-10-10 11:00" },
          { "execution_datetime": "2019-10-29 11:00" },
          { "execution_datetime": "2019-11-04 11:00" },
          { "execution_datetime": "2019-12-17 11:00" },
          { "execution_datetime": "2020-02-05 11:00" },
          { "execution_datetime": "2020-03-02 11:00" },
          { "execution_datetime": "2020-03-04 11:00" },
          { "execution_datetime": "2020-03-17 11:00" },
          { "execution_datetime": "2020-06-16 09:30" },
          { "execution_datetime": "2020-07-02 11:00" },
          { "execution_datetime": "2020-07-07 11:00" },
          { "execution_datetime": "2020-08-06 09:30" },
          { "execution_datetime": "2020-08-11 09:30" },
          { "execution_datetime": "2020-09-17 09:30" },
          { "execution_datetime": "2020-12-09 11:00" },
          { "execution_datetime": "2021-02-05 10:00" },
          { "execution_datetime": "2021-03-15 11:30" },
          { "execution_datetime": "2021-03-18 03:09" }
        ]}
      ]
    },
    "then": {
      "preparation_instrument_model": "Chromium Controller"
    }
  },
{
    "when": {
      "__must__" : [
        { "assay_type": "SNARE2-RNAseq" }
      ]
    },
    "then": {
      "preparation_instrument_model": null
    }
  },
{
    "when": {
      "__must__" : [
        { "assay_type": "SNARE2-RNAseq" },
        { "rnaseq_assay_method": "SNARE2-RNAseq-RNA" }
      ]
    },
    "then": {
      "rnaseq_assay_method": "SNARE-Seq2-RNA"
    }
  },
{
    "when": {
      "__must__" : [
        { "acquisition_instrument_model": "NovaSeq" },
        { "__should__": [
          { "sequencing_reagent_kit": "NovaSeq 6000 S4 Reagent" },
          { "sequencing_reagent_kit": "NovaSeq 6000 SP Reagent" },
          { "sequencing_reagent_kit": "NovaSeq 6000 Reagent" }
        ]}
      ]
    },
    "then": {
      "acquisition_instrument_model": "Illumina; NovaSeq 6000"
    }
  },
{
    "when": {
      "__must__" : [
        { "acquisition_instrument_model": "NovaSeq" },
        { "sequencing_reagent_kit": "NovaSeq" },
        { "__should__": [
          { "execution_datetime": "2020-06-16 09:30" },
          { "execution_datetime": "2020-08-06 09:30" },
          { "execution_datetime": "2020-08-11 09:30" },
          { "execution_datetime": "2020-09-17 09:30" },
          { "execution_datetime": "2020-12-09 11:00" },
          { "execution_datetime": "2021-02-05 10:00" },
          { "execution_datetime": "2021-03-12 09:30" },
          { "execution_datetime": "2021-03-18 09:30" },
          { "execution_datetime": "2021-03-20 09:30" }
        ]}
      ]
    },
    "then": {
      "acquisition_instrument_model": "Illumina; NovaSeq 6000"
    }
  },
{
    "when": {
      "__must__" : [
        { "library_construction_protocols_io_doi": "10.17504/protocols.io.bfwajpae" },
        { "cell_barcode_size": "26"}
      ]
    },
    "then": {
      "cell_barcode_size" : "16"
    }
  },
{
    "when": {
      "__must__" : [
        { "library_construction_protocols_io_doi": "10.17504/protocols.io.bffvjjn6" },
        { "cell_barcode_offset": "1"}
      ]
    },
    "then": {
      "cell_barcode_offset": "0"
    }
  },
  {
    "when": {
      "__must__" : [
        { "__should__": [
          { "rnaseq_assay_method": "Single Cell Multiome ATAC + Gene Expression - Chromium Next GEM Single Cell 3' v3.1 (dual index)" },
          { "rnaseq_assay_method": "10x Genomics; Chromium Single Cell 3' Reagent Kits v3.1" }
        ]}
      ]
    },
    "then": {
      "cell_barcode_offset": "0"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "bulk RNA"}
      ]
    },
    "then": {
      "cell_barcode_offset": "0",
      "cell_barcode_size": "0"
    }
  },
  {
    "when": {
      "__must__" : [
        { "assay_type": "sciRNAseq"}
      ]
    },
    "then": {
      "cell_barcode_offset": "0,14",
      "cell_barcode_size": "10,10",
      "cell_barcode_read": "R1"
    }
  }
]
